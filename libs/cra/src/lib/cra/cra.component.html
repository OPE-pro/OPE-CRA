<h1 class="text-4xl text-ggvieTitle font-bold text-center mb-4">
  CRA Overview for {{ store.cra.agentCodeName() }}
</h1>
<div class=" m-4">
  <mat-tab-group (selectedTabChange)="onTabChange($event)">
    <mat-tab label="Edit Cra">
      <div class="flex">
        <div style="width: 500px">
          <mat-calendar
            #calendar
            [(selected)]="selected"
            [dateClass]="dateClass"
          ></mat-calendar>
        </div>
        <div class="flex flex-col gap-4 mt-4">
          <button
            class="px-4 py-2 bg-mission1Color text-white font-bold rounded-lg shadow-md hover:bg-mission1Color-dark disabled:opacity-50 disabled:cursor-not-allowed"
            [disabled]="!selected()"
            (click)="setDay('Mission 1')"
          >
            Mission 1
          </button>
          <button
            class="px-4 py-2 bg-mission2Color text-white font-bold rounded-lg shadow-md hover:bg-mission2Color-600 disabled:opacity-50 disabled:cursor-not-allowed"
            [disabled]="!selected()"
            (click)="setDay('Mission 2')"
          >
            Mission 2
          </button>
          <button
            class="px-4 py-2 bg-mission3Color text-white font-bold rounded-lg shadow-md hover:bg-mission3Color-600 disabled:opacity-50 disabled:cursor-not-allowed"
            [disabled]="!selected()"
            (click)="setDay('Mission 3')"
          >
            Mission 3
          </button>
          <button
            class="px-4 py-2 bg-holidayColor text-white font-bold rounded-lg shadow-md hover:bg-holidayColor-600 disabled:opacity-50 disabled:cursor-not-allowed"
            [disabled]="!selected()"
            (click)="setHoliday()"
          >
            Holiday
          </button>
          <button
            class="px-4 py-2 bg-gray-500 text-white font-bold rounded-lg shadow-md hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"
            [disabled]="!selected()"
            (click)="removeImputationDay()"
            >
            Remove assignment
          </button>
            Total holiday days: {{ store.holidaysCount() }}
        </div>
      </div></mat-tab
    >
    <mat-tab label="3 months view" preserveContent="true"
      >@if(showThreeMonthview()){
      <div class="flex gap-4">
        <div class="w-1/3">
          <mat-calendar
            [(selected)]="firstDayOfCurrent"
            [startAt]="firstDayOfCurrent"
            [dateClass]="dateClass"
          ></mat-calendar>
        </div>

        <div class="w-1/3">
          <mat-calendar
            [(selected)]="nextOneMonth"
            [startAt]="nextOneMonth"
            [dateClass]="dateClass"
          ></mat-calendar>
        </div>
        <div class="w-1/3">
          <mat-calendar
            [(selected)]="nextTwoMonth"
            [startAt]="nextTwoMonth"
            [dateClass]="dateClass"
          ></mat-calendar>
        </div>
      </div>
      }
    </mat-tab>
  </mat-tab-group>
</div>
